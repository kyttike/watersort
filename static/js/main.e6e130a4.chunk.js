(this.webpackJsonpwatersort=this.webpackJsonpwatersort||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),i=n.n(c),l=n(8),r=n.n(l),o=(n(15),n(2)),s=n(5),u=(n(16),n(7)),d=["#ff4d4d","#3db33d","#5656ff","#eee167","#fd59e7","#eea667","#84b2ff","#6e0000","#4a0973","#235b00","#944900","#7e9400"];function f(e){for(var t,n,a=Object(o.a)(e),c=a.length;0!==c;)n=Math.floor(Math.random()*c),t=a[c-=1],a[c]=a[n],a[n]=t;return a}function j(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=[],c=e.flatMap((function(e){return Array(t).fill(e)})),i=f(c),l=0;l<i.length;l+=t)a.push(i.slice(l,l+t));return a.concat(Array(n).fill([]))}n(17);var v=function(e){var t=e.vialState,n=e.selected,c=e.onClick,i=e.size-t.length,l=i>0?Array(i).fill(null):[];return Object(a.jsxs)("div",{className:"vial ".concat(n?"vial--selected":""),onClick:c,children:[l.map((function(e,t){return Object(a.jsx)("div",{className:"vial-liquid"},"".concat(t,"-empty"))})),t.slice().reverse().map((function(e,t){return Object(a.jsx)("div",{className:"vial-liquid",style:{backgroundColor:e}},"".concat(t,"-").concat(e))}))]})},h=(n(18),function(e){var t,n=e.gameState,c=e.selectedVial,i=e.onVialClick,l=n.map((function(e,t){return{index:t,vial:e}}));return t=l.length<=5?[l]:[l.slice(0,Math.ceil(l.length/2)),l.slice(Math.ceil(l.length/2),l.length)],Object(a.jsx)("div",{className:"vial-display",children:t.map((function(e,t){return Object(a.jsx)("div",{className:"vial-display--row",children:e.map((function(e){var t=e.vial,n=e.index;return Object(a.jsx)(v,{vialState:t,onClick:function(){return i(n)},selected:c===n,size:4},n)}))},t)}))})}),b=n(9),O=n.n(b),g=n(21),m=function(){var e=Object(g.a)(),t=e.width,n=e.height;return Object(a.jsx)(O.a,{width:t,height:n})};var p=function(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],i=t[1],l=Object(c.useState)(j(d,4)),r=Object(s.a)(l,2),f=r[0],v=r[1],b=Object(c.useState)(!1),O=Object(s.a)(b,2),g=O[0],p=O[1],x=Object(c.useState)([]),y=Object(s.a)(x,2),k=y[0],N=y[1],S=function(e){N([].concat(Object(o.a)(k),[f])),v(e),p(function(e){var t,n=Object(u.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.length>0&&a.length<4)return!1;var c,i=a[0],l=Object(u.a)(a);try{for(l.s();!(c=l.n()).done;){var r=c.value;if(0!==a.length&&r!==i)return!1}}catch(o){l.e(o)}finally{l.f()}}}catch(o){n.e(o)}finally{n.f()}return!0}(e))};return Object(a.jsxs)("div",{className:"game-container",children:[Object(a.jsx)(h,{gameState:f,onVialClick:function(e){if(void 0!==n)if(e!==n){var t=function(e,t,n){for(var a=Object(o.a)(e[t]),c=Object(o.a)(e[n]);4!==c.length&&0!==a.length;){var i=a[a.length-1],l=c[c.length-1];if(i!==l&&void 0!==l)break;c.push(a.pop())}var r=Object(o.a)(e);return r[t]=a,r[n]=c,r}(f,n,e);S(t),i(void 0)}else i(void 0);else i(e)},selectedVial:n}),Object(a.jsxs)("div",{className:"game-container--buttons",children:[Object(a.jsx)("button",{className:"button",onClick:function(){N([]),v(j(d,4)),p(!1),i(void 0)},children:g?"New game":"Restart"}),g?null:Object(a.jsx)("button",{className:"button",disabled:0===k.length,onClick:function(){0!==k.length&&(i(void 0),v(k[k.length-1]),p(!1),N(k.slice(0,k.length-1)))},children:"Undo"})]}),g?Object(a.jsx)(m,{}):null]})};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(p,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.e6e130a4.chunk.js.map